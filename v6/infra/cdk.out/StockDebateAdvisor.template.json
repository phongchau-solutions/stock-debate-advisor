{
 "Description": "Stock Debate Advisor - Complete Application Stack",
 "Resources": {
  "StockDebateVpc4B2D8FB7": {
   "Type": "AWS::EC2::VPC",
   "Properties": {
    "CidrBlock": "10.0.0.0/16",
    "EnableDnsHostnames": true,
    "EnableDnsSupport": true,
    "InstanceTenancy": "default",
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Name",
      "Value": "StockDebateAdvisor/StockDebateVpc"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateVpc/Resource"
   }
  },
  "StockDebateVpcpublicSubnet1Subnet2CB900B2": {
   "Type": "AWS::EC2::Subnet",
   "Properties": {
    "AvailabilityZone": "us-east-1a",
    "CidrBlock": "10.0.0.0/24",
    "MapPublicIpOnLaunch": true,
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "aws-cdk:subnet-name",
      "Value": "public"
     },
     {
      "Key": "aws-cdk:subnet-type",
      "Value": "Public"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Name",
      "Value": "StockDebateAdvisor/StockDebateVpc/publicSubnet1"
     }
    ],
    "VpcId": {
     "Ref": "StockDebateVpc4B2D8FB7"
    }
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateVpc/publicSubnet1/Subnet"
   }
  },
  "StockDebateVpcpublicSubnet1RouteTable27CE0110": {
   "Type": "AWS::EC2::RouteTable",
   "Properties": {
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Name",
      "Value": "StockDebateAdvisor/StockDebateVpc/publicSubnet1"
     }
    ],
    "VpcId": {
     "Ref": "StockDebateVpc4B2D8FB7"
    }
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateVpc/publicSubnet1/RouteTable"
   }
  },
  "StockDebateVpcpublicSubnet1RouteTableAssociation16988FAE": {
   "Type": "AWS::EC2::SubnetRouteTableAssociation",
   "Properties": {
    "RouteTableId": {
     "Ref": "StockDebateVpcpublicSubnet1RouteTable27CE0110"
    },
    "SubnetId": {
     "Ref": "StockDebateVpcpublicSubnet1Subnet2CB900B2"
    }
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateVpc/publicSubnet1/RouteTableAssociation"
   }
  },
  "StockDebateVpcpublicSubnet1DefaultRouteA3BE49D1": {
   "Type": "AWS::EC2::Route",
   "Properties": {
    "DestinationCidrBlock": "0.0.0.0/0",
    "GatewayId": {
     "Ref": "StockDebateVpcIGW08695CED"
    },
    "RouteTableId": {
     "Ref": "StockDebateVpcpublicSubnet1RouteTable27CE0110"
    }
   },
   "DependsOn": [
    "StockDebateVpcVPCGWF0385B99"
   ],
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateVpc/publicSubnet1/DefaultRoute"
   }
  },
  "StockDebateVpcpublicSubnet1EIP671404BC": {
   "Type": "AWS::EC2::EIP",
   "Properties": {
    "Domain": "vpc",
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Name",
      "Value": "StockDebateAdvisor/StockDebateVpc/publicSubnet1"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateVpc/publicSubnet1/EIP"
   }
  },
  "StockDebateVpcpublicSubnet1NATGatewayAB1C9736": {
   "Type": "AWS::EC2::NatGateway",
   "Properties": {
    "AllocationId": {
     "Fn::GetAtt": [
      "StockDebateVpcpublicSubnet1EIP671404BC",
      "AllocationId"
     ]
    },
    "SubnetId": {
     "Ref": "StockDebateVpcpublicSubnet1Subnet2CB900B2"
    },
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Name",
      "Value": "StockDebateAdvisor/StockDebateVpc/publicSubnet1"
     }
    ]
   },
   "DependsOn": [
    "StockDebateVpcpublicSubnet1DefaultRouteA3BE49D1",
    "StockDebateVpcpublicSubnet1RouteTableAssociation16988FAE"
   ],
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateVpc/publicSubnet1/NATGateway"
   }
  },
  "StockDebateVpcpublicSubnet2SubnetAF86D89D": {
   "Type": "AWS::EC2::Subnet",
   "Properties": {
    "AvailabilityZone": "us-east-1b",
    "CidrBlock": "10.0.1.0/24",
    "MapPublicIpOnLaunch": true,
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "aws-cdk:subnet-name",
      "Value": "public"
     },
     {
      "Key": "aws-cdk:subnet-type",
      "Value": "Public"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Name",
      "Value": "StockDebateAdvisor/StockDebateVpc/publicSubnet2"
     }
    ],
    "VpcId": {
     "Ref": "StockDebateVpc4B2D8FB7"
    }
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateVpc/publicSubnet2/Subnet"
   }
  },
  "StockDebateVpcpublicSubnet2RouteTable3F00C285": {
   "Type": "AWS::EC2::RouteTable",
   "Properties": {
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Name",
      "Value": "StockDebateAdvisor/StockDebateVpc/publicSubnet2"
     }
    ],
    "VpcId": {
     "Ref": "StockDebateVpc4B2D8FB7"
    }
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateVpc/publicSubnet2/RouteTable"
   }
  },
  "StockDebateVpcpublicSubnet2RouteTableAssociation4712092A": {
   "Type": "AWS::EC2::SubnetRouteTableAssociation",
   "Properties": {
    "RouteTableId": {
     "Ref": "StockDebateVpcpublicSubnet2RouteTable3F00C285"
    },
    "SubnetId": {
     "Ref": "StockDebateVpcpublicSubnet2SubnetAF86D89D"
    }
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateVpc/publicSubnet2/RouteTableAssociation"
   }
  },
  "StockDebateVpcpublicSubnet2DefaultRoute2A0F0B12": {
   "Type": "AWS::EC2::Route",
   "Properties": {
    "DestinationCidrBlock": "0.0.0.0/0",
    "GatewayId": {
     "Ref": "StockDebateVpcIGW08695CED"
    },
    "RouteTableId": {
     "Ref": "StockDebateVpcpublicSubnet2RouteTable3F00C285"
    }
   },
   "DependsOn": [
    "StockDebateVpcVPCGWF0385B99"
   ],
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateVpc/publicSubnet2/DefaultRoute"
   }
  },
  "StockDebateVpcpublicSubnet2EIPC62B8E55": {
   "Type": "AWS::EC2::EIP",
   "Properties": {
    "Domain": "vpc",
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Name",
      "Value": "StockDebateAdvisor/StockDebateVpc/publicSubnet2"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateVpc/publicSubnet2/EIP"
   }
  },
  "StockDebateVpcpublicSubnet2NATGateway3DD97153": {
   "Type": "AWS::EC2::NatGateway",
   "Properties": {
    "AllocationId": {
     "Fn::GetAtt": [
      "StockDebateVpcpublicSubnet2EIPC62B8E55",
      "AllocationId"
     ]
    },
    "SubnetId": {
     "Ref": "StockDebateVpcpublicSubnet2SubnetAF86D89D"
    },
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Name",
      "Value": "StockDebateAdvisor/StockDebateVpc/publicSubnet2"
     }
    ]
   },
   "DependsOn": [
    "StockDebateVpcpublicSubnet2DefaultRoute2A0F0B12",
    "StockDebateVpcpublicSubnet2RouteTableAssociation4712092A"
   ],
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateVpc/publicSubnet2/NATGateway"
   }
  },
  "StockDebateVpcprivateSubnet1SubnetDF5BE8D9": {
   "Type": "AWS::EC2::Subnet",
   "Properties": {
    "AvailabilityZone": "us-east-1a",
    "CidrBlock": "10.0.2.0/24",
    "MapPublicIpOnLaunch": false,
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "aws-cdk:subnet-name",
      "Value": "private"
     },
     {
      "Key": "aws-cdk:subnet-type",
      "Value": "Private"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Name",
      "Value": "StockDebateAdvisor/StockDebateVpc/privateSubnet1"
     }
    ],
    "VpcId": {
     "Ref": "StockDebateVpc4B2D8FB7"
    }
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateVpc/privateSubnet1/Subnet"
   }
  },
  "StockDebateVpcprivateSubnet1RouteTableFEB8AAE1": {
   "Type": "AWS::EC2::RouteTable",
   "Properties": {
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Name",
      "Value": "StockDebateAdvisor/StockDebateVpc/privateSubnet1"
     }
    ],
    "VpcId": {
     "Ref": "StockDebateVpc4B2D8FB7"
    }
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateVpc/privateSubnet1/RouteTable"
   }
  },
  "StockDebateVpcprivateSubnet1RouteTableAssociationEBE41FDD": {
   "Type": "AWS::EC2::SubnetRouteTableAssociation",
   "Properties": {
    "RouteTableId": {
     "Ref": "StockDebateVpcprivateSubnet1RouteTableFEB8AAE1"
    },
    "SubnetId": {
     "Ref": "StockDebateVpcprivateSubnet1SubnetDF5BE8D9"
    }
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateVpc/privateSubnet1/RouteTableAssociation"
   }
  },
  "StockDebateVpcprivateSubnet1DefaultRoute4478F6C2": {
   "Type": "AWS::EC2::Route",
   "Properties": {
    "DestinationCidrBlock": "0.0.0.0/0",
    "NatGatewayId": {
     "Ref": "StockDebateVpcpublicSubnet1NATGatewayAB1C9736"
    },
    "RouteTableId": {
     "Ref": "StockDebateVpcprivateSubnet1RouteTableFEB8AAE1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateVpc/privateSubnet1/DefaultRoute"
   }
  },
  "StockDebateVpcprivateSubnet2SubnetD712FDBB": {
   "Type": "AWS::EC2::Subnet",
   "Properties": {
    "AvailabilityZone": "us-east-1b",
    "CidrBlock": "10.0.3.0/24",
    "MapPublicIpOnLaunch": false,
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "aws-cdk:subnet-name",
      "Value": "private"
     },
     {
      "Key": "aws-cdk:subnet-type",
      "Value": "Private"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Name",
      "Value": "StockDebateAdvisor/StockDebateVpc/privateSubnet2"
     }
    ],
    "VpcId": {
     "Ref": "StockDebateVpc4B2D8FB7"
    }
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateVpc/privateSubnet2/Subnet"
   }
  },
  "StockDebateVpcprivateSubnet2RouteTableFC38C77F": {
   "Type": "AWS::EC2::RouteTable",
   "Properties": {
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Name",
      "Value": "StockDebateAdvisor/StockDebateVpc/privateSubnet2"
     }
    ],
    "VpcId": {
     "Ref": "StockDebateVpc4B2D8FB7"
    }
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateVpc/privateSubnet2/RouteTable"
   }
  },
  "StockDebateVpcprivateSubnet2RouteTableAssociation498BD0D8": {
   "Type": "AWS::EC2::SubnetRouteTableAssociation",
   "Properties": {
    "RouteTableId": {
     "Ref": "StockDebateVpcprivateSubnet2RouteTableFC38C77F"
    },
    "SubnetId": {
     "Ref": "StockDebateVpcprivateSubnet2SubnetD712FDBB"
    }
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateVpc/privateSubnet2/RouteTableAssociation"
   }
  },
  "StockDebateVpcprivateSubnet2DefaultRoute5D2258BC": {
   "Type": "AWS::EC2::Route",
   "Properties": {
    "DestinationCidrBlock": "0.0.0.0/0",
    "NatGatewayId": {
     "Ref": "StockDebateVpcpublicSubnet2NATGateway3DD97153"
    },
    "RouteTableId": {
     "Ref": "StockDebateVpcprivateSubnet2RouteTableFC38C77F"
    }
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateVpc/privateSubnet2/DefaultRoute"
   }
  },
  "StockDebateVpcisolatedSubnet1SubnetAA42406E": {
   "Type": "AWS::EC2::Subnet",
   "Properties": {
    "AvailabilityZone": "us-east-1a",
    "CidrBlock": "10.0.4.0/24",
    "MapPublicIpOnLaunch": false,
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "aws-cdk:subnet-name",
      "Value": "isolated"
     },
     {
      "Key": "aws-cdk:subnet-type",
      "Value": "Isolated"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Name",
      "Value": "StockDebateAdvisor/StockDebateVpc/isolatedSubnet1"
     }
    ],
    "VpcId": {
     "Ref": "StockDebateVpc4B2D8FB7"
    }
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateVpc/isolatedSubnet1/Subnet"
   }
  },
  "StockDebateVpcisolatedSubnet1RouteTable498FEF60": {
   "Type": "AWS::EC2::RouteTable",
   "Properties": {
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Name",
      "Value": "StockDebateAdvisor/StockDebateVpc/isolatedSubnet1"
     }
    ],
    "VpcId": {
     "Ref": "StockDebateVpc4B2D8FB7"
    }
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateVpc/isolatedSubnet1/RouteTable"
   }
  },
  "StockDebateVpcisolatedSubnet1RouteTableAssociationDB137598": {
   "Type": "AWS::EC2::SubnetRouteTableAssociation",
   "Properties": {
    "RouteTableId": {
     "Ref": "StockDebateVpcisolatedSubnet1RouteTable498FEF60"
    },
    "SubnetId": {
     "Ref": "StockDebateVpcisolatedSubnet1SubnetAA42406E"
    }
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateVpc/isolatedSubnet1/RouteTableAssociation"
   }
  },
  "StockDebateVpcisolatedSubnet2Subnet0C6EFBD3": {
   "Type": "AWS::EC2::Subnet",
   "Properties": {
    "AvailabilityZone": "us-east-1b",
    "CidrBlock": "10.0.5.0/24",
    "MapPublicIpOnLaunch": false,
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "aws-cdk:subnet-name",
      "Value": "isolated"
     },
     {
      "Key": "aws-cdk:subnet-type",
      "Value": "Isolated"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Name",
      "Value": "StockDebateAdvisor/StockDebateVpc/isolatedSubnet2"
     }
    ],
    "VpcId": {
     "Ref": "StockDebateVpc4B2D8FB7"
    }
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateVpc/isolatedSubnet2/Subnet"
   }
  },
  "StockDebateVpcisolatedSubnet2RouteTable8AC43A76": {
   "Type": "AWS::EC2::RouteTable",
   "Properties": {
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Name",
      "Value": "StockDebateAdvisor/StockDebateVpc/isolatedSubnet2"
     }
    ],
    "VpcId": {
     "Ref": "StockDebateVpc4B2D8FB7"
    }
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateVpc/isolatedSubnet2/RouteTable"
   }
  },
  "StockDebateVpcisolatedSubnet2RouteTableAssociationFCAD5FF1": {
   "Type": "AWS::EC2::SubnetRouteTableAssociation",
   "Properties": {
    "RouteTableId": {
     "Ref": "StockDebateVpcisolatedSubnet2RouteTable8AC43A76"
    },
    "SubnetId": {
     "Ref": "StockDebateVpcisolatedSubnet2Subnet0C6EFBD3"
    }
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateVpc/isolatedSubnet2/RouteTableAssociation"
   }
  },
  "StockDebateVpcIGW08695CED": {
   "Type": "AWS::EC2::InternetGateway",
   "Properties": {
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Name",
      "Value": "StockDebateAdvisor/StockDebateVpc"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateVpc/IGW"
   }
  },
  "StockDebateVpcVPCGWF0385B99": {
   "Type": "AWS::EC2::VPCGatewayAttachment",
   "Properties": {
    "InternetGatewayId": {
     "Ref": "StockDebateVpcIGW08695CED"
    },
    "VpcId": {
     "Ref": "StockDebateVpc4B2D8FB7"
    }
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateVpc/VPCGW"
   }
  },
  "ALBSecurityGroup29A3BDEF": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "Security group for ALB",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "SecurityGroupIngress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow HTTP",
      "FromPort": 80,
      "IpProtocol": "tcp",
      "ToPort": 80
     },
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow HTTPS",
      "FromPort": 443,
      "IpProtocol": "tcp",
      "ToPort": 443
     }
    ],
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ],
    "VpcId": {
     "Ref": "StockDebateVpc4B2D8FB7"
    }
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/ALBSecurityGroup/Resource"
   }
  },
  "ECSSecurityGroupA14DBE7D": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "Security group for ECS tasks",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ],
    "VpcId": {
     "Ref": "StockDebateVpc4B2D8FB7"
    }
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/ECSSecurityGroup/Resource"
   }
  },
  "ECSSecurityGroupfromStockDebateAdvisorALBSecurityGroup65CA1523ALLPORTS27977B15": {
   "Type": "AWS::EC2::SecurityGroupIngress",
   "Properties": {
    "Description": "Allow from ALB",
    "FromPort": 0,
    "GroupId": {
     "Fn::GetAtt": [
      "ECSSecurityGroupA14DBE7D",
      "GroupId"
     ]
    },
    "IpProtocol": "tcp",
    "SourceSecurityGroupId": {
     "Fn::GetAtt": [
      "ALBSecurityGroup29A3BDEF",
      "GroupId"
     ]
    },
    "ToPort": 65535
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/ECSSecurityGroup/from StockDebateAdvisorALBSecurityGroup65CA1523:ALL PORTS"
   }
  },
  "ECSSecurityGroupfromStockDebateAdvisorALBSecurityGroup65CA15238000193B754A": {
   "Type": "AWS::EC2::SecurityGroupIngress",
   "Properties": {
    "Description": "Load balancer to target",
    "FromPort": 8000,
    "GroupId": {
     "Fn::GetAtt": [
      "ECSSecurityGroupA14DBE7D",
      "GroupId"
     ]
    },
    "IpProtocol": "tcp",
    "SourceSecurityGroupId": {
     "Fn::GetAtt": [
      "ALBSecurityGroup29A3BDEF",
      "GroupId"
     ]
    },
    "ToPort": 8000
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/ECSSecurityGroup/from StockDebateAdvisorALBSecurityGroup65CA1523:8000"
   }
  },
  "ECSSecurityGroupfromStockDebateAdvisorALBSecurityGroup65CA15235174DA1133CE": {
   "Type": "AWS::EC2::SecurityGroupIngress",
   "Properties": {
    "Description": "Load balancer to target",
    "FromPort": 5174,
    "GroupId": {
     "Fn::GetAtt": [
      "ECSSecurityGroupA14DBE7D",
      "GroupId"
     ]
    },
    "IpProtocol": "tcp",
    "SourceSecurityGroupId": {
     "Fn::GetAtt": [
      "ALBSecurityGroup29A3BDEF",
      "GroupId"
     ]
    },
    "ToPort": 5174
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/ECSSecurityGroup/from StockDebateAdvisorALBSecurityGroup65CA1523:5174"
   }
  },
  "DBSecurityGroupE3B245A3": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "Security group for RDS",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ],
    "VpcId": {
     "Ref": "StockDebateVpc4B2D8FB7"
    }
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/DBSecurityGroup/Resource"
   }
  },
  "DBSecurityGroupfromStockDebateAdvisorECSSecurityGroup1F66BBE254326E8691D4": {
   "Type": "AWS::EC2::SecurityGroupIngress",
   "Properties": {
    "Description": "Allow PostgreSQL",
    "FromPort": 5432,
    "GroupId": {
     "Fn::GetAtt": [
      "DBSecurityGroupE3B245A3",
      "GroupId"
     ]
    },
    "IpProtocol": "tcp",
    "SourceSecurityGroupId": {
     "Fn::GetAtt": [
      "ECSSecurityGroupA14DBE7D",
      "GroupId"
     ]
    },
    "ToPort": 5432
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/DBSecurityGroup/from StockDebateAdvisorECSSecurityGroup1F66BBE2:5432"
   }
  },
  "RedisSecurityGroupB05951F6": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "Security group for Redis",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ],
    "VpcId": {
     "Ref": "StockDebateVpc4B2D8FB7"
    }
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/RedisSecurityGroup/Resource"
   }
  },
  "RedisSecurityGroupfromStockDebateAdvisorECSSecurityGroup1F66BBE263796497C238": {
   "Type": "AWS::EC2::SecurityGroupIngress",
   "Properties": {
    "Description": "Allow Redis",
    "FromPort": 6379,
    "GroupId": {
     "Fn::GetAtt": [
      "RedisSecurityGroupB05951F6",
      "GroupId"
     ]
    },
    "IpProtocol": "tcp",
    "SourceSecurityGroupId": {
     "Fn::GetAtt": [
      "ECSSecurityGroupA14DBE7D",
      "GroupId"
     ]
    },
    "ToPort": 6379
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/RedisSecurityGroup/from StockDebateAdvisorECSSecurityGroup1F66BBE2:6379"
   }
  },
  "DBSecretD58955BC": {
   "Type": "AWS::SecretsManager::Secret",
   "Properties": {
    "Description": "RDS Master Password",
    "GenerateSecretString": {
     "ExcludeCharacters": "\"@/\\",
     "GenerateStringKey": "password",
     "PasswordLength": 32,
     "SecretStringTemplate": "{\"username\":\"stockdebate\"}"
    },
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/DBSecret/Resource"
   }
  },
  "DBSecretAttachmentC565A14F": {
   "Type": "AWS::SecretsManager::SecretTargetAttachment",
   "Properties": {
    "SecretId": {
     "Ref": "DBSecretD58955BC"
    },
    "TargetId": {
     "Ref": "StockDebateDB25D62463"
    },
    "TargetType": "AWS::RDS::DBInstance"
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/DBSecret/Attachment/Resource"
   }
  },
  "StockDebateDBSubnetGroup8D15070D": {
   "Type": "AWS::RDS::DBSubnetGroup",
   "Properties": {
    "DBSubnetGroupDescription": "Subnet group for StockDebateDB database",
    "SubnetIds": [
     {
      "Ref": "StockDebateVpcisolatedSubnet1SubnetAA42406E"
     },
     {
      "Ref": "StockDebateVpcisolatedSubnet2Subnet0C6EFBD3"
     }
    ],
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateDB/SubnetGroup/Default"
   }
  },
  "StockDebateDB25D62463": {
   "Type": "AWS::RDS::DBInstance",
   "Properties": {
    "AllocatedStorage": "20",
    "BackupRetentionPeriod": 7,
    "CopyTagsToSnapshot": true,
    "DBInstanceClass": "db.t3.micro",
    "DBName": "stock_debate",
    "DBSubnetGroupName": {
     "Ref": "StockDebateDBSubnetGroup8D15070D"
    },
    "DeleteAutomatedBackups": true,
    "EnableCloudwatchLogsExports": [
     "postgresql"
    ],
    "EnableIAMDatabaseAuthentication": true,
    "Engine": "postgres",
    "EngineVersion": "15.3",
    "MasterUserPassword": {
     "Fn::Join": [
      "",
      [
       "{{resolve:secretsmanager:",
       {
        "Ref": "DBSecretD58955BC"
       },
       ":SecretString:password::}}"
      ]
     ]
    },
    "MasterUsername": {
     "Fn::Join": [
      "",
      [
       "{{resolve:secretsmanager:",
       {
        "Ref": "DBSecretD58955BC"
       },
       ":SecretString:username::}}"
      ]
     ]
    },
    "MultiAZ": false,
    "PubliclyAccessible": false,
    "StorageType": "gp3",
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ],
    "VPCSecurityGroups": [
     {
      "Fn::GetAtt": [
       "DBSecurityGroupE3B245A3",
       "GroupId"
      ]
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateDB/Resource"
   }
  },
  "RedisSubnetGroup": {
   "Type": "AWS::ElastiCache::SubnetGroup",
   "Properties": {
    "Description": "Subnet group for Redis cluster",
    "SubnetIds": [
     {
      "Ref": "StockDebateVpcisolatedSubnet1SubnetAA42406E"
     },
     {
      "Ref": "StockDebateVpcisolatedSubnet2Subnet0C6EFBD3"
     }
    ],
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/RedisSubnetGroup"
   }
  },
  "StockDebateRedis": {
   "Type": "AWS::ElastiCache::CacheCluster",
   "Properties": {
    "CacheNodeType": "cache.t3.micro",
    "CacheSubnetGroupName": {
     "Ref": "RedisSubnetGroup"
    },
    "Engine": "redis",
    "EngineVersion": "7.0",
    "NumCacheNodes": 1,
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ],
    "VpcSecurityGroupIds": [
     {
      "Fn::GetAtt": [
       "RedisSecurityGroupB05951F6",
       "GroupId"
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateRedis"
   }
  },
  "AssetsBucket5CB76180": {
   "Type": "AWS::S3::Bucket",
   "Properties": {
    "BucketEncryption": {
     "ServerSideEncryptionConfiguration": [
      {
       "ServerSideEncryptionByDefault": {
        "SSEAlgorithm": "AES256"
       }
      }
     ]
    },
    "PublicAccessBlockConfiguration": {
     "BlockPublicAcls": true,
     "BlockPublicPolicy": true,
     "IgnorePublicAcls": true,
     "RestrictPublicBuckets": true
    },
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ],
    "VersioningConfiguration": {
     "Status": "Enabled"
    }
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/AssetsBucket/Resource"
   }
  },
  "BackupsBucketC69911ED": {
   "Type": "AWS::S3::Bucket",
   "Properties": {
    "BucketEncryption": {
     "ServerSideEncryptionConfiguration": [
      {
       "ServerSideEncryptionByDefault": {
        "SSEAlgorithm": "AES256"
       }
      }
     ]
    },
    "PublicAccessBlockConfiguration": {
     "BlockPublicAcls": true,
     "BlockPublicPolicy": true,
     "IgnorePublicAcls": true,
     "RestrictPublicBuckets": true
    },
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ],
    "VersioningConfiguration": {
     "Status": "Enabled"
    }
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/BackupsBucket/Resource"
   }
  },
  "backendRepoB0B2C89B": {
   "Type": "AWS::ECR::Repository",
   "Properties": {
    "ImageScanningConfiguration": {
     "ScanOnPush": true
    },
    "RepositoryName": "stock-debate/backend",
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ]
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/backendRepo/Resource"
   }
  },
  "dataserviceRepoB0044156": {
   "Type": "AWS::ECR::Repository",
   "Properties": {
    "ImageScanningConfiguration": {
     "ScanOnPush": true
    },
    "RepositoryName": "stock-debate/data-service",
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ]
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/data-serviceRepo/Resource"
   }
  },
  "aiserviceRepoE0E79F05": {
   "Type": "AWS::ECR::Repository",
   "Properties": {
    "ImageScanningConfiguration": {
     "ScanOnPush": true
    },
    "RepositoryName": "stock-debate/ai-service",
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ]
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/ai-serviceRepo/Resource"
   }
  },
  "frontendRepo74B66850": {
   "Type": "AWS::ECR::Repository",
   "Properties": {
    "ImageScanningConfiguration": {
     "ScanOnPush": true
    },
    "RepositoryName": "stock-debate/frontend",
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ]
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/frontendRepo/Resource"
   }
  },
  "StockDebateClusterF380A77D": {
   "Type": "AWS::ECS::Cluster",
   "Properties": {
    "ClusterName": "stock-debate-dev",
    "ClusterSettings": [
     {
      "Name": "containerInsights",
      "Value": "enabled"
     }
    ],
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateCluster/Resource"
   }
  },
  "ECSLogGroupD9ADFBBA": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/aws/ecs/stock-debate-dev",
    "RetentionInDays": 7,
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/ECSLogGroup/Resource"
   }
  },
  "StockDebateALB8201A9F6": {
   "Type": "AWS::ElasticLoadBalancingV2::LoadBalancer",
   "Properties": {
    "LoadBalancerAttributes": [
     {
      "Key": "deletion_protection.enabled",
      "Value": "false"
     }
    ],
    "Name": "stock-debate-alb-dev",
    "Scheme": "internet-facing",
    "SecurityGroups": [
     {
      "Fn::GetAtt": [
       "ALBSecurityGroup29A3BDEF",
       "GroupId"
      ]
     }
    ],
    "Subnets": [
     {
      "Ref": "StockDebateVpcpublicSubnet1Subnet2CB900B2"
     },
     {
      "Ref": "StockDebateVpcpublicSubnet2SubnetAF86D89D"
     }
    ],
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ],
    "Type": "application"
   },
   "DependsOn": [
    "StockDebateVpcpublicSubnet1DefaultRouteA3BE49D1",
    "StockDebateVpcpublicSubnet1RouteTableAssociation16988FAE",
    "StockDebateVpcpublicSubnet2DefaultRoute2A0F0B12",
    "StockDebateVpcpublicSubnet2RouteTableAssociation4712092A"
   ],
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateALB/Resource"
   }
  },
  "StockDebateALBHTTPListener5E8A3658": {
   "Type": "AWS::ElasticLoadBalancingV2::Listener",
   "Properties": {
    "DefaultActions": [
     {
      "TargetGroupArn": {
       "Ref": "StockDebateALBHTTPListenerBackendTargetGroupB49453A2"
      },
      "Type": "forward"
     }
    ],
    "LoadBalancerArn": {
     "Ref": "StockDebateALB8201A9F6"
    },
    "Port": 80,
    "Protocol": "HTTP"
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateALB/HTTPListener/Resource"
   }
  },
  "StockDebateALBHTTPListenerBackendTargetGroupB49453A2": {
   "Type": "AWS::ElasticLoadBalancingV2::TargetGroup",
   "Properties": {
    "HealthCheckIntervalSeconds": 30,
    "HealthCheckPath": "/health",
    "HealthCheckTimeoutSeconds": 5,
    "Port": 8000,
    "Protocol": "HTTP",
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ],
    "TargetGroupAttributes": [
     {
      "Key": "stickiness.enabled",
      "Value": "false"
     }
    ],
    "TargetType": "ip",
    "VpcId": {
     "Ref": "StockDebateVpc4B2D8FB7"
    }
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateALB/HTTPListener/BackendTargetGroup/Resource"
   }
  },
  "StockDebateALBHTTPListenerFrontendRuleRule25BDF342": {
   "Type": "AWS::ElasticLoadBalancingV2::ListenerRule",
   "Properties": {
    "Actions": [
     {
      "TargetGroupArn": {
       "Ref": "FrontendTargetGroupED7B3E5D"
      },
      "Type": "forward"
     }
    ],
    "Conditions": [
     {
      "Field": "path-pattern",
      "PathPatternConfig": {
       "Values": [
        "/",
        "/*"
       ]
      }
     }
    ],
    "ListenerArn": {
     "Ref": "StockDebateALBHTTPListener5E8A3658"
    },
    "Priority": 1
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/StockDebateALB/HTTPListener/FrontendRuleRule/Resource"
   }
  },
  "EcsTaskExecutionRoleC0B6A84D": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "ecs-tasks.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/EcsTaskExecutionRole/Resource"
   }
  },
  "EcsTaskExecutionRoleDefaultPolicyDCEEFDC3": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "secretsmanager:GetSecretValue",
        "kms:Decrypt"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Ref": "DBSecretD58955BC"
        },
        "arn:aws:kms:*:*:key/*"
       ]
      },
      {
       "Action": [
        "logs:CreateLogStream",
        "logs:PutLogEvents"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "BackendLogGroupDA10F1B2",
         "Arn"
        ]
       }
      },
      {
       "Action": [
        "secretsmanager:GetSecretValue",
        "secretsmanager:DescribeSecret"
       ],
       "Effect": "Allow",
       "Resource": {
        "Ref": "DBSecretD58955BC"
       }
      },
      {
       "Action": [
        "logs:CreateLogStream",
        "logs:PutLogEvents"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "DataServiceLogGroup91DE0235",
         "Arn"
        ]
       }
      },
      {
       "Action": [
        "logs:CreateLogStream",
        "logs:PutLogEvents"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "AIServiceLogGroup50E003BB",
         "Arn"
        ]
       }
      },
      {
       "Action": [
        "logs:CreateLogStream",
        "logs:PutLogEvents"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "FrontendLogGroupCE4F14E0",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "EcsTaskExecutionRoleDefaultPolicyDCEEFDC3",
    "Roles": [
     {
      "Ref": "EcsTaskExecutionRoleC0B6A84D"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/EcsTaskExecutionRole/DefaultPolicy/Resource"
   }
  },
  "EcsTaskRole8DFA0181": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "ecs-tasks.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/EcsTaskRole/Resource"
   }
  },
  "BackendTaskDef6ECE986E": {
   "Type": "AWS::ECS::TaskDefinition",
   "Properties": {
    "ContainerDefinitions": [
     {
      "Environment": [
       {
        "Name": "NODE_ENV",
        "Value": "dev"
       },
       {
        "Name": "PORT",
        "Value": "8000"
       },
       {
        "Name": "DB_HOST",
        "Value": {
         "Fn::GetAtt": [
          "StockDebateDB25D62463",
          "Endpoint.Address"
         ]
        }
       },
       {
        "Name": "DB_PORT",
        "Value": "5432"
       },
       {
        "Name": "DB_NAME",
        "Value": "stock_debate"
       },
       {
        "Name": "DATA_SERVICE_URL",
        "Value": "http://data-service:8001"
       },
       {
        "Name": "AI_SERVICE_URL",
        "Value": "http://ai-service:8003"
       }
      ],
      "Essential": true,
      "Image": "node:18-alpine",
      "LogConfiguration": {
       "LogDriver": "awslogs",
       "Options": {
        "awslogs-group": {
         "Ref": "BackendLogGroupDA10F1B2"
        },
        "awslogs-stream-prefix": "backend",
        "awslogs-region": "us-east-1"
       }
      },
      "Name": "backend",
      "PortMappings": [
       {
        "ContainerPort": 8000,
        "Protocol": "tcp"
       }
      ],
      "Secrets": [
       {
        "Name": "DB_USER",
        "ValueFrom": {
         "Fn::Join": [
          "",
          [
           {
            "Ref": "DBSecretD58955BC"
           },
           ":username::"
          ]
         ]
        }
       },
       {
        "Name": "DB_PASSWORD",
        "ValueFrom": {
         "Fn::Join": [
          "",
          [
           {
            "Ref": "DBSecretD58955BC"
           },
           ":password::"
          ]
         ]
        }
       }
      ]
     }
    ],
    "Cpu": "512",
    "ExecutionRoleArn": {
     "Fn::GetAtt": [
      "EcsTaskExecutionRoleC0B6A84D",
      "Arn"
     ]
    },
    "Family": "StockDebateAdvisorBackendTaskDef22D8E627",
    "Memory": "1024",
    "NetworkMode": "awsvpc",
    "RequiresCompatibilities": [
     "FARGATE"
    ],
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ],
    "TaskRoleArn": {
     "Fn::GetAtt": [
      "EcsTaskRole8DFA0181",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/BackendTaskDef/Resource"
   }
  },
  "BackendLogGroupDA10F1B2": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/ecs/stock-debate-backend-dev",
    "RetentionInDays": 7,
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/BackendLogGroup/Resource"
   }
  },
  "BackendService7A4224EE": {
   "Type": "AWS::ECS::Service",
   "Properties": {
    "Cluster": {
     "Ref": "StockDebateClusterF380A77D"
    },
    "DeploymentConfiguration": {
     "Alarms": {
      "AlarmNames": [],
      "Enable": false,
      "Rollback": false
     },
     "MaximumPercent": 200,
     "MinimumHealthyPercent": 50
    },
    "DesiredCount": 1,
    "EnableECSManagedTags": false,
    "HealthCheckGracePeriodSeconds": 60,
    "LaunchType": "FARGATE",
    "LoadBalancers": [
     {
      "ContainerName": "backend",
      "ContainerPort": 8000,
      "TargetGroupArn": {
       "Ref": "StockDebateALBHTTPListenerBackendTargetGroupB49453A2"
      }
     }
    ],
    "NetworkConfiguration": {
     "AwsvpcConfiguration": {
      "AssignPublicIp": "DISABLED",
      "SecurityGroups": [
       {
        "Fn::GetAtt": [
         "ECSSecurityGroupA14DBE7D",
         "GroupId"
        ]
       }
      ],
      "Subnets": [
       {
        "Ref": "StockDebateVpcprivateSubnet1SubnetDF5BE8D9"
       },
       {
        "Ref": "StockDebateVpcprivateSubnet2SubnetD712FDBB"
       }
      ]
     }
    },
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ],
    "TaskDefinition": {
     "Ref": "BackendTaskDef6ECE986E"
    }
   },
   "DependsOn": [
    "EcsTaskRole8DFA0181",
    "StockDebateALBHTTPListenerBackendTargetGroupB49453A2",
    "StockDebateALBHTTPListenerFrontendRuleRule25BDF342",
    "StockDebateALBHTTPListener5E8A3658"
   ],
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/BackendService/Service"
   }
  },
  "DataServiceTaskDef854CBF22": {
   "Type": "AWS::ECS::TaskDefinition",
   "Properties": {
    "ContainerDefinitions": [
     {
      "Environment": [
       {
        "Name": "PORT",
        "Value": "8001"
       },
       {
        "Name": "DB_HOST",
        "Value": {
         "Fn::GetAtt": [
          "StockDebateDB25D62463",
          "Endpoint.Address"
         ]
        }
       },
       {
        "Name": "DB_PORT",
        "Value": "5432"
       },
       {
        "Name": "DB_NAME",
        "Value": "stock_debate"
       },
       {
        "Name": "LOCAL_DATA_MODE",
        "Value": "true"
       }
      ],
      "Essential": true,
      "Image": "python:3.11-slim",
      "LogConfiguration": {
       "LogDriver": "awslogs",
       "Options": {
        "awslogs-group": {
         "Ref": "DataServiceLogGroup91DE0235"
        },
        "awslogs-stream-prefix": "data-service",
        "awslogs-region": "us-east-1"
       }
      },
      "Name": "data-service",
      "PortMappings": [
       {
        "ContainerPort": 8001,
        "Protocol": "tcp"
       }
      ],
      "Secrets": [
       {
        "Name": "DB_USER",
        "ValueFrom": {
         "Fn::Join": [
          "",
          [
           {
            "Ref": "DBSecretD58955BC"
           },
           ":username::"
          ]
         ]
        }
       },
       {
        "Name": "DB_PASSWORD",
        "ValueFrom": {
         "Fn::Join": [
          "",
          [
           {
            "Ref": "DBSecretD58955BC"
           },
           ":password::"
          ]
         ]
        }
       }
      ]
     }
    ],
    "Cpu": "512",
    "ExecutionRoleArn": {
     "Fn::GetAtt": [
      "EcsTaskExecutionRoleC0B6A84D",
      "Arn"
     ]
    },
    "Family": "StockDebateAdvisorDataServiceTaskDef699E95F0",
    "Memory": "1024",
    "NetworkMode": "awsvpc",
    "RequiresCompatibilities": [
     "FARGATE"
    ],
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ],
    "TaskRoleArn": {
     "Fn::GetAtt": [
      "EcsTaskRole8DFA0181",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/DataServiceTaskDef/Resource"
   }
  },
  "DataServiceLogGroup91DE0235": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/ecs/stock-debate-data-service-dev",
    "RetentionInDays": 7,
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/DataServiceLogGroup/Resource"
   }
  },
  "DataService5045BB6F": {
   "Type": "AWS::ECS::Service",
   "Properties": {
    "Cluster": {
     "Ref": "StockDebateClusterF380A77D"
    },
    "DeploymentConfiguration": {
     "Alarms": {
      "AlarmNames": [],
      "Enable": false,
      "Rollback": false
     },
     "MaximumPercent": 200,
     "MinimumHealthyPercent": 50
    },
    "DesiredCount": 1,
    "EnableECSManagedTags": false,
    "LaunchType": "FARGATE",
    "NetworkConfiguration": {
     "AwsvpcConfiguration": {
      "AssignPublicIp": "DISABLED",
      "SecurityGroups": [
       {
        "Fn::GetAtt": [
         "ECSSecurityGroupA14DBE7D",
         "GroupId"
        ]
       }
      ],
      "Subnets": [
       {
        "Ref": "StockDebateVpcprivateSubnet1SubnetDF5BE8D9"
       },
       {
        "Ref": "StockDebateVpcprivateSubnet2SubnetD712FDBB"
       }
      ]
     }
    },
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ],
    "TaskDefinition": {
     "Ref": "DataServiceTaskDef854CBF22"
    }
   },
   "DependsOn": [
    "EcsTaskRole8DFA0181"
   ],
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/DataService/Service"
   }
  },
  "AIServiceTaskDef02EA761E": {
   "Type": "AWS::ECS::TaskDefinition",
   "Properties": {
    "ContainerDefinitions": [
     {
      "Environment": [
       {
        "Name": "PORT",
        "Value": "8003"
       },
       {
        "Name": "PYTHONUNBUFFERED",
        "Value": "1"
       }
      ],
      "Essential": true,
      "Image": "python:3.11-slim",
      "LogConfiguration": {
       "LogDriver": "awslogs",
       "Options": {
        "awslogs-group": {
         "Ref": "AIServiceLogGroup50E003BB"
        },
        "awslogs-stream-prefix": "ai-service",
        "awslogs-region": "us-east-1"
       }
      },
      "Name": "ai-service",
      "PortMappings": [
       {
        "ContainerPort": 8003,
        "Protocol": "tcp"
       }
      ]
     }
    ],
    "Cpu": "1024",
    "ExecutionRoleArn": {
     "Fn::GetAtt": [
      "EcsTaskExecutionRoleC0B6A84D",
      "Arn"
     ]
    },
    "Family": "StockDebateAdvisorAIServiceTaskDef4BA04469",
    "Memory": "2048",
    "NetworkMode": "awsvpc",
    "RequiresCompatibilities": [
     "FARGATE"
    ],
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ],
    "TaskRoleArn": {
     "Fn::GetAtt": [
      "EcsTaskRole8DFA0181",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/AIServiceTaskDef/Resource"
   }
  },
  "AIServiceLogGroup50E003BB": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/ecs/stock-debate-ai-service-dev",
    "RetentionInDays": 7,
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/AIServiceLogGroup/Resource"
   }
  },
  "AIService147F8159": {
   "Type": "AWS::ECS::Service",
   "Properties": {
    "Cluster": {
     "Ref": "StockDebateClusterF380A77D"
    },
    "DeploymentConfiguration": {
     "Alarms": {
      "AlarmNames": [],
      "Enable": false,
      "Rollback": false
     },
     "MaximumPercent": 200,
     "MinimumHealthyPercent": 50
    },
    "DesiredCount": 1,
    "EnableECSManagedTags": false,
    "LaunchType": "FARGATE",
    "NetworkConfiguration": {
     "AwsvpcConfiguration": {
      "AssignPublicIp": "DISABLED",
      "SecurityGroups": [
       {
        "Fn::GetAtt": [
         "ECSSecurityGroupA14DBE7D",
         "GroupId"
        ]
       }
      ],
      "Subnets": [
       {
        "Ref": "StockDebateVpcprivateSubnet1SubnetDF5BE8D9"
       },
       {
        "Ref": "StockDebateVpcprivateSubnet2SubnetD712FDBB"
       }
      ]
     }
    },
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ],
    "TaskDefinition": {
     "Ref": "AIServiceTaskDef02EA761E"
    }
   },
   "DependsOn": [
    "EcsTaskRole8DFA0181"
   ],
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/AIService/Service"
   }
  },
  "FrontendTaskDefTaskRoleDA0FD037": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "ecs-tasks.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/FrontendTaskDef/TaskRole/Resource"
   }
  },
  "FrontendTaskDef7D3FD156": {
   "Type": "AWS::ECS::TaskDefinition",
   "Properties": {
    "ContainerDefinitions": [
     {
      "Environment": [
       {
        "Name": "VITE_API_BASE_URL",
        "Value": "http://backend:8000"
       }
      ],
      "Essential": true,
      "Image": "node:18-alpine",
      "LogConfiguration": {
       "LogDriver": "awslogs",
       "Options": {
        "awslogs-group": {
         "Ref": "FrontendLogGroupCE4F14E0"
        },
        "awslogs-stream-prefix": "frontend",
        "awslogs-region": "us-east-1"
       }
      },
      "Name": "frontend",
      "PortMappings": [
       {
        "ContainerPort": 5174,
        "Protocol": "tcp"
       }
      ]
     }
    ],
    "Cpu": "256",
    "ExecutionRoleArn": {
     "Fn::GetAtt": [
      "EcsTaskExecutionRoleC0B6A84D",
      "Arn"
     ]
    },
    "Family": "StockDebateAdvisorFrontendTaskDef8AB99B5B",
    "Memory": "512",
    "NetworkMode": "awsvpc",
    "RequiresCompatibilities": [
     "FARGATE"
    ],
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ],
    "TaskRoleArn": {
     "Fn::GetAtt": [
      "FrontendTaskDefTaskRoleDA0FD037",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/FrontendTaskDef/Resource"
   }
  },
  "FrontendLogGroupCE4F14E0": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/ecs/stock-debate-frontend-dev",
    "RetentionInDays": 7,
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/FrontendLogGroup/Resource"
   }
  },
  "FrontendServiceBC94BA93": {
   "Type": "AWS::ECS::Service",
   "Properties": {
    "Cluster": {
     "Ref": "StockDebateClusterF380A77D"
    },
    "DeploymentConfiguration": {
     "Alarms": {
      "AlarmNames": [],
      "Enable": false,
      "Rollback": false
     },
     "MaximumPercent": 200,
     "MinimumHealthyPercent": 50
    },
    "DesiredCount": 1,
    "EnableECSManagedTags": false,
    "HealthCheckGracePeriodSeconds": 60,
    "LaunchType": "FARGATE",
    "LoadBalancers": [
     {
      "ContainerName": "frontend",
      "ContainerPort": 5174,
      "TargetGroupArn": {
       "Ref": "FrontendTargetGroupED7B3E5D"
      }
     }
    ],
    "NetworkConfiguration": {
     "AwsvpcConfiguration": {
      "AssignPublicIp": "DISABLED",
      "SecurityGroups": [
       {
        "Fn::GetAtt": [
         "ECSSecurityGroupA14DBE7D",
         "GroupId"
        ]
       }
      ],
      "Subnets": [
       {
        "Ref": "StockDebateVpcprivateSubnet1SubnetDF5BE8D9"
       },
       {
        "Ref": "StockDebateVpcprivateSubnet2SubnetD712FDBB"
       }
      ]
     }
    },
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ],
    "TaskDefinition": {
     "Ref": "FrontendTaskDef7D3FD156"
    }
   },
   "DependsOn": [
    "FrontendTaskDefTaskRoleDA0FD037",
    "StockDebateALBHTTPListenerFrontendRuleRule25BDF342"
   ],
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/FrontendService/Service"
   }
  },
  "FrontendTargetGroupED7B3E5D": {
   "Type": "AWS::ElasticLoadBalancingV2::TargetGroup",
   "Properties": {
    "HealthCheckIntervalSeconds": 30,
    "HealthCheckPath": "/",
    "HealthCheckTimeoutSeconds": 5,
    "Name": "stock-debate-frontend-dev",
    "Port": 5174,
    "Protocol": "HTTP",
    "Tags": [
     {
      "Key": "Application",
      "Value": "StockDebateAdvisor"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     }
    ],
    "TargetGroupAttributes": [
     {
      "Key": "stickiness.enabled",
      "Value": "false"
     }
    ],
    "TargetType": "ip",
    "VpcId": {
     "Ref": "StockDebateVpc4B2D8FB7"
    }
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/FrontendTargetGroup/Resource"
   }
  },
  "CDKMetadata": {
   "Type": "AWS::CDK::Metadata",
   "Properties": {
    "Analytics": "v2:deflate64:H4sIAAAAAAAA/31STW/bMAz9Lb0r2ur2smM+tiJAsRl20etAy6yrRpEMkUpQCPrvgy3H8dphJz4+PtOPpApZ3N3L2xs400q1h5XRjYw1gzoIONPviKqQ8blXYvtin8utKENjtKpDY5EH7ooqFxifoDF45a/cmsgpDaydncUD+L4vh/AT+AEYz/AuSq9PwHhtvLeM3uIsyE6mbM0M6vWIlkWNKnjN7w/ehX708F9ibzuPREkQKo9MR7DQoZexHvNJP6AcnsB3yIv/zYKPlSR8SzLugKEBwr0lBqtQ5JFmN7vNJ+IiTQINEGsF6hVlnPc5S7dDYWsCMfok6E7GTVCH7DqjJFB5GSvsHWl2ftzbNRvKJOPUYmw5wR/gOxiuRocdvmirLzf7yDjLoC36BTd9W6M/aZXfQYZJGNeRjI+um2e44HlY46BtwIBV2nanQsZ13xutxkfz6KDdjLXs9q98qdPEaCfNBS/q+Vazh2X6jy5VyK95mSeh4Shj5XJpjKUzWo0bziglUSG54PMSfgXuAydhXYvyjb6ciq/y9pu8v3kjrVc+WNZHlFWOfwCs3LCSkgMAAA=="
   },
   "Metadata": {
    "aws:cdk:path": "StockDebateAdvisor/CDKMetadata/Default"
   }
  }
 },
 "Outputs": {
  "VpcId": {
   "Value": {
    "Ref": "StockDebateVpc4B2D8FB7"
   },
   "Export": {
    "Name": "StockDebateAdvisor-VpcId"
   }
  },
  "ALBUrl": {
   "Value": {
    "Fn::GetAtt": [
     "StockDebateALB8201A9F6",
     "DNSName"
    ]
   },
   "Export": {
    "Name": "StockDebateAdvisor-ALBUrl"
   }
  },
  "DatabaseEndpoint": {
   "Value": {
    "Fn::GetAtt": [
     "StockDebateDB25D62463",
     "Endpoint.Address"
    ]
   },
   "Export": {
    "Name": "StockDebateAdvisor-DbEndpoint"
   }
  },
  "ClusterName": {
   "Value": {
    "Ref": "StockDebateClusterF380A77D"
   },
   "Export": {
    "Name": "StockDebateAdvisor-ClusterName"
   }
  },
  "DatabaseSecretArn": {
   "Value": {
    "Ref": "DBSecretD58955BC"
   },
   "Export": {
    "Name": "StockDebateAdvisor-DbSecretArn"
   }
  }
 },
 "Parameters": {
  "BootstrapVersion": {
   "Type": "AWS::SSM::Parameter::Value<String>",
   "Default": "/cdk-bootstrap/hnb659fds/version",
   "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]"
  }
 },
 "Rules": {
  "CheckBootstrapVersion": {
   "Assertions": [
    {
     "Assert": {
      "Fn::Not": [
       {
        "Fn::Contains": [
         [
          "1",
          "2",
          "3",
          "4",
          "5"
         ],
         {
          "Ref": "BootstrapVersion"
         }
        ]
       }
      ]
     },
     "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI."
    }
   ]
  }
 }
}